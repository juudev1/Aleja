<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para ti</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-color: #000;
            font-family: 'Times New Roman', serif;
            color: white;
            cursor: none;
        }

        #custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            font-size: 24px;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            text-shadow: 0 0 10px rgba(255, 255, 0, 0.8);
            transition: transform 0.1s ease;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        #start-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 1s ease;
        }

        #start-screen h1 {
            font-size: 2rem;
            letter-spacing: 3px;
            font-weight: lighter;
            animation: pulse 2s infinite;
        }

        #start-screen p {
            font-size: 0.9rem;
            opacity: 0.6;
            margin-top: 10px;
        }

        .content-section {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease-out;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .content-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .content-section p {
            font-size: 2.5rem;
            max-width: 800px;
            line-height: 1.6;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.6);
            margin-bottom: 50px;
        }

        #lyrics-overlay {
            position: fixed;
            bottom: 10%;
            left: 0;
            width: 100%;
            text-align: center;
            pointer-events: none;
            z-index: 20;
        }

        #current-lyric {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            color: #ffff00;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8);
            opacity: 0;
            transition: opacity 0.5s ease;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 5px 15px;
            border-radius: 10px;
            display: inline-block;
        }

        #current-lyric.show {
            opacity: 1;
        }

        @keyframes pulse {
            0% {
                opacity: 0.5;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.5;
            }
        }

        ::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }
    </style>
</head>

<body>

    <div id="custom-cursor">üíõ</div>

    <div id="start-screen">
        <h1>Haz clic para comenzar</h1>
        <p>(Usa aud√≠fonos)</p>
    </div>

    <audio id="bg-music" loop>
        <source src="song.mp3" type="audio/mpeg">
        Tu navegador no soporta audio.
    </audio>

    <div id="canvas-container"></div>

    <div id="lyrics-overlay">
        <div id="current-lyric">...</div>
    </div>

    <main id="scroll-content">

        <section class="content-section" style="height: 50vh;"></section>


<!-- Frase 1: apertura reflexiva -->
    <section class="content-section">
      <p>A veces me detengo a pensar.</p>
    </section><!-- Frase 2: memoria -->
<section class="content-section">
  <p>Ciertos momentos se quedan en mi memoria.</p>
</section>

<!-- Frase 3: especificaci√≥n -->
<section class="content-section">
  <p>Mayormente los que pasan cuando estoy contigo.</p>
</section>

<!-- Frase 4: efecto del tiempo -->
<section class="content-section">
  <p>Cuando estoy contigo, el tiempo parece detenerse.</p>
</section>

<!-- Frase 5: ausencia -->
<section class="content-section">
  <p>Y cuando no est√°s, tu ausencia me pesa tanto.</p>
</section>

<!-- Frase 6: aprecio por conocerla -->
<section class="content-section">
  <p>No hay persona a quien me haya dado m√°s gusto conocer que a ti.</p>
</section>

<!-- Frase 7: canciones -->
<section class="content-section">
  <p>Hay canciones que me hacen sonre√≠r porque pienso en ti.</p>
</section>

<!-- Frase 8: deseo simb√≥lico -->
<section class="content-section">
  <p>Quisiera regalarte una parte del universo.</p>
</section>

<!-- Frase 9: met√°fora -->
<section class="content-section">
  <p>Porque eso eres para m√≠.</p>
</section>

<!-- Frase 10: imagen celeste -->
<section class="content-section">
  <p>Eres la estrella m√°s brillante en mi cielo.</p>
</section>

<!-- Frase 11: momento favorito -->
<section class="content-section">
  <p>Sin darme cuenta, te convertiste en mi momento favorito del d√≠a.</p>
</section>

<!-- Frase 12: complicidad -->
<section class="content-section">
  <p>Amo esa complicidad que nace con una mirada.</p>
</section>

<!-- Frase 13: confianza -->
<section class="content-section">
  <p>Esa confianza que nos deja contarnos casi todo.</p>
</section>

<!-- Frase 14: cambio de percepci√≥n -->
<section class="content-section">
  <p>Cada d√≠a me cuesta m√°s verte solo como una amiga.</p>
</section>

<!-- Frase 15: ejemplo claro -->
<section class="content-section">
  <p>Un amigo no te ocupa los pensamientos a las 3 AM.</p>
</section>

<!-- Frase 16: disfrute del proceso -->
<section class="content-section">
  <p>Amo este proceso de conocerte.</p>
</section>

<!-- Frase 17: descubrimiento -->
<section class="content-section">
  <p>Descubrir tus gustos, tus miedos y tus man√≠as.</p>
</section>

<!-- Frase 18: brillo en los ojos -->
<section class="content-section">
  <p>Y ver c√≥mo te brillan los ojos cuando hablas de lo que amas.</p>
</section>

<!-- Frase 19: incertidumbre -->
<section class="content-section">
  <p>No s√© qu√© nos depare el destino.</p>
</section>

<!-- Frase 20: posibilidad -->
<section class="content-section">
  <p>No s√© si llegaremos a dar el siguiente paso.</p>
</section>

<!-- Frase 21: deseo de continuidad -->
<section class="content-section">
  <p>S√© que, pase lo que pase, quiero que sigas en mis d√≠as.</p>
</section>

<!-- Frase 22: alivio -->
<section class="content-section">
  <p>Contigo todo se siente m√°s ligero.</p>
</section>

<!-- Frase 23: paz -->
<section class="content-section">
  <p>Me siento en paz; me siento aliviado.</p>
</section>

<!-- Frase 24: compromiso, versi√≥n breve -->
<section class="content-section">
  <p>Si decides quedarte, no te fallar√©.</p>
</section>

<!-- Frase 25: impulso final -->
<section class="content-section">
  <p>Nada me impulsa m√°s que la idea de construir algo contigo.</p>
</section>

        <section class="content-section" style="height: 50vh;"></section>

    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        const lrcString = `
[00:15.57]Cada vez que respires
[00:19.37]Y cada movimiento que hagas
[00:23.41]Cada lazo que rompas
[00:25.50]Cada paso que des
[00:27.57]Te estar√© observando
[00:29.35]
[00:31.98]Cada d√≠a
[00:35.97]Cada palabra que digas
[00:39.88]Cada juego que juegues
[00:41.09]Cada noche que te quedes
[00:43.95]Te estar√© observando
[00:45.70]
[00:48.25]Oh, ¬øno puedes ver?
[00:52.34]T√∫ me perteneces
[00:56.46]C√≥mo duele mi pobre coraz√≥n
[01:00.28]Con cada paso que das
[01:03.09]
[01:04.67]Cada movimiento que hagas
[01:08.50]Y cada promesa que rompas
[01:12.58]Cada sonrisa fingida
[01:14.63]Cada territorio que reclames
[01:16.63]Te estar√© observando
[01:18.42]
[01:22.80]Desde que te fuiste
[01:23.78]Estoy perdido, sin dejar rastro
[01:26.89]Sue√±o de noche y solo puedo ver tu rostro
[01:30.93]Miro alrededor, pero no puedo reemplazarte
[01:35.06]Siento fr√≠o y anhelo tu abrazo
[01:39.25]Sigo llorando, beb√©, beb√©, por favor
[01:47.66]
[02:14.16]Oh, ¬øno puedes ver?
[02:18.18]T√∫ me perteneces
[02:22.38]C√≥mo duele mi pobre coraz√≥n
[02:26.23]Con cada paso que das
[02:29.00]
[02:30.50]Cada movimiento que hagas
[02:34.41]Y cada promesa que rompas
[02:38.48]Cada sonrisa fingida
[02:40.50]Cada territorio que reclames
[02:42.49]Te estar√© observando
[02:46.61]Cada movimiento que hagas
[02:48.67]Cada paso que des
[02:50.68]Te estar√© observando
[02:52.49]
[02:59.22]Te estar√© observando
[03:01.05]Cada vez que respires, cada movimiento que hagas
[03:05.08]Cada lazo que rompas, cada paso que des
[03:07.40]Te estar√© observando
[03:09.22]Cada d√≠a, cada palabra que digas
[03:13.21]Cada juego que juegues, cada noche que te quedes
[03:15.50]Te estar√© observando
[03:17.35]Cada movimiento que hagas, cada promesa que rompas
[03:21.37]Cada sonrisa fingida, cada territorio que reclames
[03:23.74]Te estar√© observando
[03:25.57]Cada d√≠a, cada palabra que digas
[03:29.53]Cada juego que juegues, cada noche que te quedes
[03:31.89]Te estar√© observando
[03:33.76]Cada vez que respires, cada movimiento que hagas
[03:37.74]Cada lazo que rompas, cada paso que des
[03:40.09]Te estar√© observando
[03:41.86]Cada d√≠a, cada palabra que digas
[03:45.96]Cada juego que juegues, cada noche que te quedes
[03:48.31]Te estar√© observando
[03:50.07]Cada movimiento que hagas, cada promesa que rompas
[03:54.17]Cada sonrisa fingida, cada territorio que reclames
[03:56.50]Te estar√© observando
[03:58.35]Cada d√≠a, cada palabra que digas
[04:02.36]Cada juego que juegues, cada noche que te quedes
[04:06.21]
`;

        function parseLRC(lrc) {
            const regex = /\[(\d{2}):(\d{2})\.(\d{2})\](.*)/;
            const lines = lrc.split('\n');
            const output = [];
            lines.forEach(line => {
                const match = line.match(regex);
                if (match) {
                    const time = parseInt(match[1]) * 60 + parseInt(match[2]) + (parseInt(match[3]) / 100);
                    output.push({ time, text: match[4].trim() });
                }
            });
            return output;
        }
        const lyricsData = parseLRC(lrcString);

        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
        document.addEventListener('mousedown', () => cursor.style.transform = "translate(-50%, -50%) scale(0.8)");
        document.addEventListener('mouseup', () => cursor.style.transform = "translate(-50%, -50%) scale(1)");

        const startScreen = document.getElementById('start-screen');
        const audio = document.getElementById('bg-music');
        const lyricElement = document.getElementById('current-lyric');
        let started = false;

        startScreen.addEventListener('click', () => {
            if (!started) {
                startScreen.style.opacity = '0';
                setTimeout(() => startScreen.style.display = 'none', 1000);
                audio.volume = 0.5;
                audio.play().catch(e => console.log("Error audio:", e));
                started = true;
            }
        });

        audio.addEventListener('timeupdate', () => {
            const currentTime = audio.currentTime;
            let currentLine = null;

            for (let i = 0; i < lyricsData.length; i++) {
                if (currentTime >= lyricsData[i].time) {
                    currentLine = lyricsData[i];
                } else break;
            }

            if (currentLine) {
                if (lyricElement.innerText !== currentLine.text) {
                    if (currentLine.text === "") {
                        lyricElement.classList.remove('show');
                    } else {
                        lyricElement.classList.remove('show');
                        setTimeout(() => {
                            lyricElement.innerText = currentLine.text;
                            lyricElement.classList.add('show');
                        }, 200);
                    }
                }
            }
        });

        const sections = document.querySelectorAll('.content-section');
        function checkScroll() {
            const triggerBottom = window.innerHeight * 0.8;
            sections.forEach(section => {
                const sectionTop = section.getBoundingClientRect().top;
                if (sectionTop < triggerBottom) section.classList.add('visible');
                else section.classList.remove('visible');
            });
        }
        window.addEventListener('scroll', checkScroll);
        checkScroll();

        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x000000, 0.002);
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 3000;
        const posArray = new Float32Array(particlesCount * 3);
        for (let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 2000;
        }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({ size: 2, color: 0xffffff, transparent: true, opacity: 0.8 });
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);

        camera.position.z = 100;

        let mouseX = 0;
        let mouseY = 0;
        document.addEventListener('mousemove', (event) => {
            mouseX = event.clientX - window.innerWidth / 2;
            mouseY = event.clientY - window.innerHeight / 2;
        });

        const clock = new THREE.Clock();
        function animate() {
            const elapsedTime = clock.getElapsedTime();
            particlesMesh.rotation.y = elapsedTime * 0.02;

            particlesMesh.position.x += mouseX * 0.0005;
            particlesMesh.position.y -= mouseY * 0.0005;

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>

</html>